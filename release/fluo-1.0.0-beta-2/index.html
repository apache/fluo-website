<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" integrity="sha384-h21C2fcDk/eFsW9sC9h0dhokq5pDinLNklTKoxIZRUn3+hvmgQSffLLQ4G4l2eEr" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/fluo.css">
    <link rel="canonical" href="https://fluo.apache.org//release/fluo-1.0.0-beta-2/">
    <link rel="icon" type="image/png" href="/resources/favicon.png">
    
    <title>Fluo 1.0.0-beta-2 released | Apache Fluo</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!-- Place your <script> tags here. -->

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55360307-1', 'auto');
  ga('send', 'pageview');

</script>

<script>window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));</script>

  </head>
  <body style="padding-top: 100px">
    <nav id="fluo-nav" class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <div class="navbar-toggle-wrapper visible-xs">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".js-navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
          </div>
          <a href="/" class="navbar-brand"><img id="fluo-img" height="40px" src="/resources/fluo-logo-dark.png" alt="Apache Fluo"></a>
        </div>
        <div class="collapse navbar-collapse js-navbar-collapse" style="margin-top: 20px">
          <ul class="navbar-nav nav">
            <li><a href="/release/">Releases</a></li>
            <li><a href="/tour/">Tour</a></li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#">Docs<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/docs/fluo/1.1.0-incubating/">Fluo</a></li>
                <li><a href="/docs/fluo-recipes/1.1.0-incubating/">Fluo Recipes</a></li>
              </ul>
            </li>
            <li><a href="/api/">API</a></li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#">Community<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/contactus/">Contact Us</a></li>
                <li><a href="/news/">News Archive</a></li>
                <li><a href="/people/">People</a></li>
                <li><a href="/related-projects/">Related Projects</a></li>
                <li><a href="/poweredby/">Powered By</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#">Contributing<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/how-to-contribute/">How To Contribute</a></li>
                <li><a href="/release-process/">Release Process</a></li>
              </ul>
            </li>
          </ul>
          <ul class="navbar-nav nav navbar-right">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#">Apache Software Foundation<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="https://www.apache.org">Apache Homepage</a></li>
                <li><a href="https://www.apache.org/licenses/LICENSE-2.0">License</a></li>
                <li><a href="https://www.apache.org/foundation/sponsorship">Sponsorship</i></a></li>
                <li><a href="https://www.apache.org/security">Security</a></li>
                <li><a href="https://www.apache.org/foundation/thanks">Thanks</a></li>
                <li><a href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
          <div class="col-sm-12">
            <div class="post-header">
  <h2>Fluo 1.0.0-beta-2 released</h2>
  <p class="text-muted">12 Jan 2016</p>
  <p><a class="twitter-share-button" href="https://twitter.com/intent/tweet?text=Fluo 1.0.0-beta-2 released&url=https://fluo.apache.org//release/fluo-1.0.0-beta-2/&via=ApacheFluo&related=ApacheFluo" rel="nofollow" target="_blank" title="Share on Twitter">Twitter</a></p>
</div>




  <div class="alert alert-danger" role="alert">This release was made before Apache incubation and is not endorsed by the ASF.</div>


<div class="post-content">
  <p>Fluo 1.0.0-beta-2 is the third release of Fluo and likely the final release before 1.0.0.
Fluo is now at a point where its two cluster test suites, <a href="https://github.com/fluo-io/webindex">Webindex</a> and
<a href="https://github.com/fluo-io/fluo-stress">Stress</a>, are running well for long periods on EC2.</p>

<p>Below are resources for this release:</p>

<ul>
  <li>Download the <a href="https://github.com/fluo-io/fluo/releases/tag/1.0.0-beta-2">Fluo binary tarball</a> for 1.0.0-beta-2 from GitHub.</li>
  <li>View the <a href="/docs/fluo/1.0.0-beta-2/">documentation</a> for help getting started with Fluo.</li>
  <li><a href="https://javadoc.io/doc/io.fluo/fluo-api/1.0.0-beta-2/">Javadocs</a> are available for this release.</li>
  <li>A <a href="https://github.com/fluo-io/fluo/tree/1.0.0-beta-2">tag</a> of Fluo codebase for 1.0.0-beta-2 is available.</li>
  <li>The <a href="https://github.com/fluo-io/fluo-quickstart">Quickstart</a> and <a href="https://github.com/fluo-io/phrasecount">Phrasecount</a> applications were updated to work with this release.</li>
</ul>

<p>This release closed <a href="https://github.com/fluo-io/fluo/issues?q=milestone%3A1.0.0-beta-2+is%3Aclosed">48 tickets</a>. There is no upgrade path from 1.0.0-beta-1 to
1.0.0-beta-2. Many improvements in this release were driven by the creation of two new
Fluo related projects:</p>

<ul>
  <li>
    <p><a href="https://github.com/fluo-io/fluo-recipes">Fluo recipes</a> is a collection of common development patterns
designed to make Fluo application development easier.  Creating Fluo recipes
required new Fluo functionality and updates to the Fluo API.  The first release
of Fluo recipes has been made and is available in <a href="http://search.maven.org/#search|ga|1|fluo-recipes">Maven Central</a>.</p>
  </li>
  <li>
    <p><a href="https://github.com/fluo-io/webindex">WebIndex</a> is an example Fluo application that indexes links to web
pages in multiple ways.  Webindex enabled the testing of Fluo on real data at
scale.  It also inspired improvements to Fluo to allow it to work better with
Apache Spark.</p>
  </li>
</ul>

<h2 id="significant-features">Significant features</h2>

<p>This release contains many new features that makes it easier to run, develop, and monitor Fluo applications.</p>

<h4 id="improved-fluo-metrics-that-can-be-sent-to-influxdb-and-viewed-in-grafana">Improved Fluo metrics that can be sent to InfluxDB and viewed in Grafana</h4>

<p>In <a href="https://github.com/fluo-io/fluo/issues/569">#569</a>, <a href="https://github.com/fluo-io/fluo/issues/570">#570</a>, &amp; <a href="https://github.com/fluo-io/fluo/issues/580">#580</a>, Fluo metrics and monitoring were refactored to fix several
bugs and allow metrics to be sent to <a href="https://github.com/influxdata/influxdb">InfluxDB</a> and viewed in <a href="http://grafana.org/">Grafana</a>.  Fluo metrics 
are still instrumented using <a href="https://dropwizard.github.io/metrics/3.1.0/">Dropwizard metrics</a> but in <a href="https://github.com/fluo-io/fluo/issues/574">#574</a> metrics configuration was 
moved from its own file and to now reside in <code class="highlighter-rouge">fluo.properties</code>.  While Fluo metrics can still be sent to 
many different tools (i.e Graphite, Ganglia), Fluo now ships with configuration that can be used to configure 
a Fluo dashboard in Grafana that queries InfluxDB.  To set up the sending of Fluo metrics to InfluxDB/Grafana,
view this <a href="/docs/fluo/1.0.0-beta-2/grafana/">documentation</a> or consider using <a href="https://github.com/fluo-io/fluo-dev">Fluo-dev</a> or <a href="https://github.com/fluo-io/zetten">Zetten</a>
to run Fluo as they can install InfluxDB+Grafana and setup metrics for you.</p>

<h4 id="improved-fluo-administration">Improved Fluo administration</h4>

<p>Several commands were added to the <code class="highlighter-rouge">fluo</code> script which is used to administer Fluo.  A <code class="highlighter-rouge">fluo exec</code> command
(<a href="https://github.com/fluo-io/fluo/pull/581">#581</a>) was created to provide an easy way to execute application code using Fluo classes and dependencies.
A <code class="highlighter-rouge">fluo list</code> command (<a href="https://github.com/fluo-io/fluo/issues/523">#523</a>) was created to let users list all Fluo applications within a Fluo instance.
The <code class="highlighter-rouge">fluo scan</code> command now has a <code class="highlighter-rouge">--raw</code> option (<a href="https://github.com/fluo-io/fluo/issues/597">#597</a>) that prints Fluo data as stored in Accumulo. This
was accomplished by moving the Fluo formatter from Accumulo shell to the scan command.  The scan command can now
format non-ascii characters as hex (<a href="https://github.com/fluo-io/fluo/issues/568">#568</a>).  The <code class="highlighter-rouge">fluo new</code> command was improved to prevent users from
setting invalid Fluo application names (<a href="https://github.com/fluo-io/fluo/issues/510">#510</a>).  A bug was fixed in the <code class="highlighter-rouge">fluo start</code> command that was causing
time outs when starting applications (<a href="https://github.com/fluo-io/fluo/issues/562">#562</a>).  Finally, the <code class="highlighter-rouge">fluo</code> command can now be run without the <code class="highlighter-rouge">apps/</code>
directory configured for an application for most commands (<a href="https://github.com/fluo-io/fluo/issues/524">#524</a>). Only the <code class="highlighter-rouge">init</code> and <code class="highlighter-rouge">start</code> commands need
this directory configured.  All other commands only require the default properties file to be configured at 
<code class="highlighter-rouge">conf/fluo.properties</code>.</p>

<h4 id="made-fluo-work-better-with-spark">Made Fluo work better with Spark</h4>

<p>Several changes were made to Fluo to allow it work better with Apache Spark.  All Fluo data types now implement
<code class="highlighter-rouge">Serializable</code> and can be use in Spark RDDs (<a href="https://github.com/fluo-io/fluo/issues/539">#539</a>).  Fluo data types also now implement <code class="highlighter-rouge">Comparable</code> which
allows RDDs of Fluo data types to be sorted (<a href="https://github.com/fluo-io/fluo/issues/544">#544</a>).  Also, a no args constructor was created for the
MutableBytes data type to enable Kryo serialization in Spark (<a href="https://github.com/fluo-io/fluo/pull/549">#549</a>).  Finally, a new InputFormat called
<code class="highlighter-rouge">FluoEntryInputFormat</code> was created that returns key/value entries and the existing <code class="highlighter-rouge">FluoInputFormat</code> that returns
rows was renamed <code class="highlighter-rouge">FluoRowInputFormat</code> (<a href="https://github.com/fluo-io/fluo/issues/538">#538</a>,<a href="https://github.com/fluo-io/fluo/issues/540">#540</a>).</p>

<h4 id="performance-improvements">Performance improvements</h4>

<p>A good bit of time was spent analyzing Fluo while it was running to determine
where time is spent when executing transactions.   Based on this analysis, it
was found that a good bit of time was spent committing transactions.  Changes
were made in Fluo and Accumulo in order to decrease commit time.  For Fluo, the
following changes were made :</p>

<ul>
  <li><a href="https://github.com/fluo-io/fluo/issues/591">#591</a> - Shared batch writer increases transaction history</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/590">#590</a> - Increased batch writer threads and made configurable</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/589">#589</a> - Added 2nd conditional writer and logging of commit times</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/584">#584</a> - Adjust number of conditional writer threads based on cluster size</li>
</ul>

<p>For Accumulo, changes are being made in <a href="https://issues.apache.org/jira/browse/ACCUMULO-4066">ACCUMULO-4066</a> to decrease the time it
takes to process conditional mutations.  Conditional mutations are used when
Fluo commits a transaction.</p>

<p>These changes resulted in nice improvements over beta-1 in testing.  However there
is probably still room for improvement.  More analysis is needed.</p>

<h4 id="api-changes">API Changes</h4>

<p>Once Fluo 1.0.0 is released, all releases after that will follow
<a href="http://semver.org/">semver</a>.  For now some small API changes are still being
made.  The following API changes happened between beta-1 and beta-2.</p>

<ul>
  <li><a href="https://github.com/fluo-io/fluo/pull/566">#566</a> - Added RowColumnValue and made Accumulo init code use it</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/551">#551</a> - Added method to get start timestamp of transaction</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/550">#550</a> - Changed setObservers() to addObservers()</li>
</ul>

<h4 id="other-important-improvements-and-bug-fixes">Other important improvements and bug fixes</h4>

<ul>
  <li><a href="https://github.com/fluo-io/fluo/pull/598">#598</a> - Upgraded Hadoop to 2.6.3 and Accumulo to 1.6.4</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/587">#587</a> - Specified datasource for all graphs in fluoâ€™s Grafana dashboard</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/586">#586</a> - Added efficient and easy way to build Bytes objects</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/578">#578</a> - Plot nothing in Grafana when no data exists</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/573">#573</a> - Fixed issues building against Accumulo 1.8.0-SNAPSHOT</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/561">#561</a> - Stopped checkstyle mvn plugin from running at validate</li>
  <li><a href="https://github.com/fluo-io/fluo/issues/559">#559</a> - Eventually drop deleted data</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/558">#558</a> - Added arguments to deploy command to skip findbugs, checkstyle, and auto-formatting</li>
  <li><a href="https://github.com/fluo-io/fluo/issues/556">#556</a> - Make TravisCI deploy snapshot jars after successful builds</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/552">#552</a> - Made eclipse stop complaining about unknown plugins</li>
  <li><a href="https://github.com/fluo-io/fluo/issues/547">#547</a> - Provide better documentation for LoaderExecutor</li>
  <li><a href="https://github.com/fluo-io/fluo/pull/535">#535</a> - Upgraded Twill to 0.6.0-incubating</li>
  <li><a href="https://github.com/fluo-io/fluo/issues/520">#520</a> - Consolidate all implementation properties into FluoConfigurationImpl</li>
  <li><a href="https://github.com/fluo-io/fluo/issues/518">#518</a> - Make Oracle run on a random port</li>
  <li><a href="https://github.com/fluo-io/fluo/issues/513">#513</a> - Unable to pass spaces to scan command</li>
  <li><a href="https://github.com/fluo-io/fluo/issues/495">#495</a> - Add support for notifications to Fluo formatter</li>
</ul>

<h2 id="testing">Testing</h2>

<p>For this release, a long run of the <a href="https://github.com/fluo-io/webindex">Webindex</a> application was performed and is documented in
<a href="/blog/2016/01/11/webindex-long-run/">a blog post</a>.  A long run of <a href="https://github.com/fluo-io/fluo-stress">Fluo stress</a> was run and documented in 
<a href="/blog/2015/12/22/beta-2-pre-release-stress-test/">another blog post</a>.</p>


</div>

<div>
  <p class="text-muted">View all releases in the <a href="/release/">release archive</a></p>
</div>

          </div>
      </div>
      <hr>
      <div class="row footer">
        <div class="col-sm-12 text-center">
          <div class="center-block">
          <a href="https://apache.org"><img src="/resources/feather.png" alt="Apache"></a>
          Copyright &copy; 2017 The Apache Software Foundation. Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache&nbsp;License,&nbsp;Version&nbsp;2.0</a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
