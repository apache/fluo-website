<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" integrity="sha384-h21C2fcDk/eFsW9sC9h0dhokq5pDinLNklTKoxIZRUn3+hvmgQSffLLQ4G4l2eEr" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/fluo.css">
    <link rel="canonical" href="https://fluo.apache.org//docs/fluo/1.2/administration/initialize">
    <link rel="icon" type="image/png" href="/resources/favicon.png">
    
    <title>Initialize Application | Apache Fluo</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://www.apachecon.com/event-images/snippet.js"></script>
    <!-- Place your <script> tags here. -->

<script>window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));</script>

  </head>
  <body style="padding-top: 100px">
    <nav id="fluo-nav" class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <div class="navbar-toggle-wrapper visible-xs">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".js-navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
          </div>
          <a href="/" class="navbar-brand"><img id="fluo-img" height="40px" src="/resources/fluo-logo-dark.png" alt="Apache Fluo"></a>
        </div>
        <div class="collapse navbar-collapse js-navbar-collapse" style="margin-top: 20px">
          <ul class="navbar-nav nav">
            <li><a href="/releases/">Releases</a></li>
            <li><a href="/tour/">Tour</a></li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#">Docs<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/docs/fluo/1.2/">Fluo</a></li>
                <li><a href="/docs/fluo-recipes/1.2/">Fluo Recipes</a></li>
              </ul>
            </li>
            <li><a href="/api/">API</a></li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#">Community<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/contactus/">Contact Us</a></li>
                <li><a href="/news/">News Archive</a></li>
                <li><a href="/people/">People</a></li>
                <li><a href="/related-projects/">Related Projects</a></li>
                <li><a href="/poweredby/">Powered By</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#">Contributing<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/how-to-contribute/">How To Contribute</a></li>
                <li><a href="/release-process/">Release Process</a></li>
              </ul>
            </li>
            <li><a href="/search/">Search</a></li>
          </ul>
          <ul class="navbar-nav nav navbar-right">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#"><img alt="Apache Software Foundation" src="https://www.apache.org/images/feather-small.png" width="70"/><span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="https://www.apache.org">Apache Homepage</a></li>
                <li><a href="https://www.apache.org/licenses/">License</a></li>
                <li><a href="https://www.apache.org/foundation/sponsorship">Sponsorship</i></a></li>
                <li><a href="https://www.apache.org/security">Security</a></li>
                <li><a href="https://www.apache.org/foundation/thanks">Thanks</a></li>
                <li><a href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a></li>
                <li><a href="https://www.apache.org/events/current-event.html">Current Event</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
          <div class="col-sm-12">
            <div class="row">
  <div class="col-md-2">
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true" data-spy="affix">
      <div class="panel panel-default">
      
      
      
        
          
        
          
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsegetting-started" aria-expanded="false" aria-controls="collapsegetting-started">
                  Getting started
                </a>
              </h4>
            </div>
            <div id="collapsegetting-started" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/getting-started/design">Design</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/getting-started/quick-start">Quick Start</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/getting-started/install-fluo">Install Fluo</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/getting-started/create-application">Create Application</a></div>
                
              </div>
            </div>
          
        
          
        
      
        
          
        
          
        
          
        
      
        
          
            <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseadministration" aria-expanded="true" aria-controls="collapseadministration">
                  Administration
                </a>
              </h4>
            </div>
            <div id="collapseadministration" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">
                
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/administration/initialize">Initialize Application</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/administration/run-fluo-processes">Run Fluo processes</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/administration/run-fluo-in-yarn">Run Fluo in YARN</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/administration/run-fluo-in-docker">Run Fluo in Docker</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/administration/manage-applications">Manage Applications</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/administration/metrics">Metrics</a></div>
                
                <div class="row doc-sidebar-link"><a href="/docs/fluo/1.2/administration/troubleshooting">Troubleshooting</a></div>
                
              </div>
            </div>
          
        
          
        
          
        
      
      </div>
    </div>
  </div>
  <div class="col-md-10">
    
    <p>Fluo 1.2.0 documentation &nbsp;&gt;&gt;&nbsp; Administration &nbsp;&gt;&gt;&nbsp; Initialize Application</p>
    

    <!--div class="alert alert-warning" style="margin-bottom: 0px;" role="alert">This documentation is for a future release of Apache Fluo! <a href="/docs/fluo/1.2/">View documentation for the latest release</a>.</div>-->

    
    <div class="row">
      <div class="col-md-10"><h1>Initialize Application</h1></div>
      <div class="col-md-2"><a class="pull-right" style="margin-top: 25px;" href="https://github.com/apache/fluo-website/edit/main/_fluo-1-2/administration/initialize.md" role="button"><i class="glyphicon glyphicon-pencil"></i> <small>Edit this page</small></a></div>
    </div>  
    
    <h2 id="overview">Overview</h2>

<p>Before a Fluo Application can run, it must be initialized.  Below is an overview of what
initialization does and some of the properties that may be set for initialization.</p>

<ul>
  <li><strong>Initialize ZooKeeper</strong> - Each application has its own area in ZooKeeper used for configuration,
Oracle state, and worker coordination. All properties, except <code class="language-plaintext highlighter-rouge">fluo.connections.*</code>, are copied
into ZooKeeper. For example, if <code class="language-plaintext highlighter-rouge">fluo.worker.num.threads=128</code> was set, then when a worker process
starts it will read this from ZooKeeper.</li>
  <li><strong>Copy Observer jars to DFS</strong> - Fluo workers processes need the jars containing observers. These
are provided in one of the following ways.
    <ul>
      <li>Set the property <code class="language-plaintext highlighter-rouge">fluo.observer.init.dir</code> to a local directory containing observer jars. The
jars in this directory are copied to DFS under <code class="language-plaintext highlighter-rouge">&lt;fluo.dfs.root&gt;/&lt;app name&gt;</code>. When a worker is
started, the jars are pulled from DFS and added to its classpath.</li>
      <li>Set the property <code class="language-plaintext highlighter-rouge">fluo.observer.jars.url</code> to a directory in DFS containing observer jars.  No
copying is done. When a worker is started, the jars are pulled from this location and added to
its classpath.</li>
      <li>Do not set any of the properties above and have the mechanism that starts the worker process
add the needed jars to the classpath.</li>
    </ul>
  </li>
  <li><strong>Create Accumulo table</strong> - Each Fluo application creates and configures an Accumulo table. The
<code class="language-plaintext highlighter-rouge">fluo.accumulo.*</code> properties determine which Accumulo instance is used. For performance reasons,
Fluo runs its own code in Accumulo tablet servers. Fluo attempts to copy Fluo jars into DFS and
configure Accumulo to use them. Fluo first checks the property <code class="language-plaintext highlighter-rouge">fluo.accumulo.jars</code> and if set,
copies the jars listed there. If that property is not set, then Fluo looks on the classpath to
find jars. Jars are copied to a location under <code class="language-plaintext highlighter-rouge">&lt;fluo.dfs.root&gt;/&lt;app name&gt;</code>.</li>
</ul>

<h2 id="instructions">Instructions</h2>

<p>Below are the steps to initialize an application from the command line. It is also possible to
initialize an application using Fluo’s <a href="https://static.javadoc.io/org.apache.fluo/fluo-api/1.2.0/org/apache/fluo/api/client/FluoAdmin.html#initialize-org.apache.fluo.api.client.FluoAdmin.InitializationOptions-">Java API</a>.</p>

<ol>
  <li>
    <p>Create a copy of <a href="https://github.com/apache/fluo/blob/main/modules/distribution/src/main/config/fluo-app.properties">fluo-app.properties</a> for your Fluo application.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> cp $FLUO_HOME/conf/fluo-app.properties /path/to/myapp/fluo-app.properties
</code></pre></div>    </div>
  </li>
  <li>
    <p>Edit your copy of <a href="https://github.com/apache/fluo/blob/main/modules/distribution/src/main/config/fluo-app.properties">fluo-app.properties</a> and make sure to set the following:</p>

    <ul>
      <li>Class name of your ObserverProvider</li>
      <li>Paths to your Fluo observer jars</li>
      <li>Accumulo configuration</li>
      <li>DFS configuration</li>
    </ul>

    <p>When configuring the observer section of fluo-app.properties, you can configure your instance for the
<a href="https://github.com/apache/fluo-examples/tree/main/phrasecount">phrasecount</a> application if you have not created your own application. See the <a href="https://github.com/apache/fluo-examples/tree/main/phrasecount">phrasecount</a>
example for instructions. You can also choose not to configure any observers but your workers will
be idle when started.</p>
  </li>
  <li>
    <p>Run the command below to initialize your Fluo application. Change <code class="language-plaintext highlighter-rouge">myapp</code> to your application name:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> fluo init -a myapp -p /path/to/myapp/fluo-app.properties
</code></pre></div>    </div>

    <p>A Fluo application only needs to be initialized once. After initialization, the Fluo application
name is used to start/stop the application and scan the Fluo table.</p>
  </li>
  <li>
    <p>Run <code class="language-plaintext highlighter-rouge">fluo list</code> which connects to Fluo and lists applications to verify initialization.</p>
  </li>
  <li>
    <p>Run <code class="language-plaintext highlighter-rouge">fluo config -a myapp</code> to see what configuration is stored in ZooKeeper.</p>
  </li>
</ol>

<h2 id="next-steps">Next Steps</h2>

<p>Run your Fluo application using one of the methods below:</p>

<ul>
  <li><a href="/docs/fluo/1.2/administration/run-fluo-processes">Run Fluo processes</a></li>
  <li><a href="/docs/fluo/1.2/administration/run-fluo-in-yarn">Run Fluo in YARN</a></li>
  <li><a href="/docs/fluo/1.2/administration/run-fluo-in-docker">Run Fluo in Docker</a> which enables running in Mesos and Kubernetes</li>
</ul>

<p>Also, learn how to <a href="/docs/fluo/1.2/administration/manage-applications">manage Fluo applications</a>.</p>



    <div class="row" style="margin-top: 20px;">
      <div class="col-md-10"><strong>Find documentation for all Fluo releases in the <a href="/docs/">archive</strong></div>
      <div class="col-md-2"><a class="pull-right" href="https://github.com/apache/fluo-website/edit/main/_fluo-1-2/administration/initialize.md" role="button"><i class="glyphicon glyphicon-pencil"></i> <small>Edit this page</small></a></div>
    </div>  
  </div>
</div>

          </div>
      </div>
      <div class="row">
        <div class="col-sm-12 center-block">
          <footer>
            <hr/>
            <p>
            <a href="https://www.apache.org/foundation/contributing"><img
              src="https://www.apache.org/images/SupportApache-small.png"
              id="asf-logo" height="100" alt="Apache"/></a>
            </p>
            <p>
            Copyright &copy; 2022 <a
              href="https://www.apache.org">The&nbsp;Apache&nbsp;Software&nbsp;Foundation</a>.
            Licensed under the <a
              href="https://www.apache.org/licenses/">Apache&nbsp;License,&nbsp;Version&nbsp;2.0</a>
            </p>
            <p>
            Apache®, the names of Apache projects and their logos, and the multicolor feather
            logo are registered trademarks or trademarks of The Apache Software Foundation
            in the United States and/or other countries.
            </p>
          </footer>
        </div>
      </div>
    </div>
  </body>
</html>
